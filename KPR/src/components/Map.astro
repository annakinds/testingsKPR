---
import "leaflet/dist/leaflet.css";
---

<div id="map" style="height:100vh;"></div>

<script>
    import L from "leaflet";

    const map = L.map("map").setView([50.8285, 3.264], 13);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "Â© OpenStreetMap",
    }).addTo(map);

    fetch("/data/KPR+Kortrijk.geojson")
        .then((r) => r.json())
        .then((data) => {
            L.geoJSON(data, {
                onEachFeature(feature, layer) {
                    let popup = `<b>${feature.properties.name}</b>`;
                    if (feature.properties.description) {
                        popup += `<br><i>${feature.properties.description}</i>`;
                    }
                    layer.bindPopup(popup);
                },
            }).addTo(map);
        });
</script>

---
import "leaflet/dist/leaflet.css";
---

<div id="map" style="height:100vh;"></div>

<script>
    import L from "leaflet";

    const map = L.map("map").setView([50.8285, 3.264], 13);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "Â© OpenStreetMap",
    }).addTo(map);

    fetch("/testingsKPR//data/KPR+Kortrijk.geojson")
        .then((r) => r.json())
        .then((data) => {
            L.geoJSON(data, {
                pointToLayer: (feature, latlng) => {
                    const customIcon = L.icon({
                        iconUrl: "/testingsKPR/marker__orange.svg",
                        iconSize: [32, 32],
                        iconAnchor: [16, 32],
                        popupAnchor: [0, -32],
                    });
                    return L.marker(latlng, { icon: customIcon });
                },
                onEachFeature(feature, layer) {
                    let popup = `<b>${feature.properties.name}</b>`;
                    if (feature.properties.description) {
                        popup += `<br><i>${feature.properties.description}</i>`;
                    }
                    layer.bindPopup(popup);
                },
            }).addTo(map);
        });
</script>
